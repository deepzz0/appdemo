<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Hello Demo</title>
</head>

<body>
    <div id="form">
        账户: <input type="text" name="username" value=""><br>
        密码: <input type="text" name="password" value=""><br>
        <button id="login" onclick="login">登录</button>
        <button id="register" onclick="register">注册</button>
    </div>
    <div id="userinfo">
        info
        <br />
        <button id="logout" onclick="logout">登出</button>
    </div>
    <div id="message">12312</div>
</body>
<script type="text/javascript">
function request(url, options) {
    fetch(url, options)
        .then(resp => {
            if (resp.status >= 200 && resp.status < 300) {
                return resp;
            }
            // unauthorize
            if (resp.status == 401) {
                document.getElementById('form').style.display = 'none';
                return
            }
            const error = new Error(resp.statusText);
            error.response = resp;
            throw error;
        })
        .then(resp => {
            if (resp.status === 204 || resp.status === 205) {
                return null;
            }
            return resp.json();
        })
}

function login() {

}

function register() {

}

function logout() {

}

function userinfo() {

}
userinfo();
</script>

</html>